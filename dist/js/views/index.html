
<div ng-show="!gators" class="text-muted"><i class="fa fa-cog fa-spin"></i> Loading investigators...</div>
<div ng-show="!cards" class="text-muted"><i class="fa fa-cog fa-spin"></i> Loading Cards...</div>

<div ng-show="cards && gators">

    <div class="panel panel-default">
        <div class="panel-body">
            This tool allows users to randomly generate legal decks for the 
            <a href="https://www.fantasyflightgames.com/en/news/2017/9/18/invoke-thy-name/">Ultimatum of Chaos</a> 
            method of playing the <a href="https://www.fantasyflightgames.com/en/products/arkham-horror-the-card-game/">Arhkam Horror Living Card Game</a>. 
            Select an investigator from the drop-down below and then click the "Make Deck" button. Card data and images from <a href="https://arkhamdb.com">https://arkhamdb.com</a>.
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-3">
            <select class="form-control" ng-model="selectedGator">
                <option ng-repeat="g in gators | orderBy: 'name'" value="{{g.code}}">{{g.name}}</option>
            </select>
        </div>

        <div class="col-sm-4">
            <button class="btn btn-primary" ng-click="makeDeck()"><i class="fa fa-cog"></i> Make Deck</button>

            <button class="btn btn-primary" ng-click="randomGator()"><i class="fa fa-random"></i> Random Investigator</button>
        </div>

    </div>

    <div class="row" ng-show="gator">
        <div class="col-md-4">
            <div class="panel panel-primary">
                <div class="panel-heading"><a ng-href="{{gator.url}}"><i class="fa fa-external-link"></i> {{gator.name}}</a></div>
                <div class="panel-body text-center">

                    <div class="row">
                        <div class="col-sm-6">
                            <div class="row">
                                <div class="col-sm-1"></div>
                                <div class="header col-sm-1">W</div>
                                <div class="header col-sm-1">I</div>
                                <div class="header col-sm-1">C</div>
                                <div class="header col-sm-1">A</div>
                                <div class="header col-sm-1">H</div>
                                <div class="header col-sm-1">S</div>
                                
                            </div>

                            <div class="row">
                                <div class="col-sm-1"></div>
                                <div class="col-sm-1">{{gator.skill_willpower}}</div>
                                <div class="col-sm-1">{{gator.skill_intellect}}</div>
                                <div class="col-sm-1">{{gator.skill_combat}}</div>
                                <div class="col-sm-1">{{gator.skill_agility}}</div>
                                <div class="col-sm-1">{{gator.health}}</div>
                                <div class="col-sm-1">{{gator.sanity}}</div>
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <p ng-bind-html="gator.text"></p>
                        </div>
                    </div>

                </div>
                <div class="panel-footer" ng-bind-html="gator.back_text">
                </div>
            </div>
        </div>
    </div>

    <div ng-show="deck">

        <div class="row header">
            <div class="col-sm-2">Name</div>
            <div class="col-sm-1">Count</div>
            <div class="col-sm-1">Type</div>
            <div class="col-sm-1">Faction</div>
            <div class="col-sm-2">Traits</div>
        </div>

        <div class="row" ng-class-even="'rowHighlight'" hover-class="hoverHighlight" ng-repeat="card in deck">
            <div class="col-sm-2"><a ng-href="{{card.card.url}}">{{card.card.name}}</a></div>
            <div class="col-sm-1">{{card.count}}</div>
            <div class="col-sm-1">{{card.card.type_name}}</div>
            <div class="col-sm-1">{{card.card.faction_name}}</div>
            <div class="col-sm-2">{{card.card.traits}}</div>
        </div>

    </div>

</div>
